"use strict";class QueryElement{constructor(selector){if(selector===document){return eventHandler=>{window.addEventListener("DOMContentLoaded",eventHandler)}}if(selector instanceof HTMLElement){this.selected=[selector]}else{try{this.selected=document.querySelectorAll(selector)}catch{return null}}}get value(){return this.selected[0].value}set value(value){for(const element of this.selected){element.value=value}}get checked(){return this.selected[0].checked}set checked(value){for(const element of this.selected){element.checked=value}}get innerHTML(){return this.inner()}set innerHTML(html){this.inner(html)}get outerHTML(){return this.outer()}set outerHTML(html){this.outer(html)}get innerText(){return this.text()}set innerText(txt){for(const element of this.selected){element.innerText=txt}}on(event,callback){for(const element of this.selected){element.addEventListener(event,callback)}}click(){for(const element of this.selected){element.click()}}outer(){let html=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(html!==null){for(const element of this.selected){element.outerHTML=html}}return(this.selected[0]||{outerHTML:null}).outerHTML}inner(){let html=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(html!==null){for(const element of this.selected){element.innerHTML=html}}return(this.selected[0]||{innerHTML:null}).innerHTML}text(){let txt=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(txt!==null){for(const element of this.selected){element.innerText=txt}}return(this.selected[0]||{innerText:null}).innerText}any(key,value){const keys=key.split(".");if(keys.length===0)return false;if(keys.length===1)this.each(elem=>{elem.selected[0][keys[0]]=value});if(keys.length===2)this.each(elem=>{elem.selected[0][keys[0]][keys[1]]=value});if(keys.length===3)this.each(elem=>{elem.selected[0][keys[0]][keys[1]][keys[2]]=value});if(keys.length===4)this.each(elem=>{elem.selected[0][keys[0]][keys[1]][keys[2]][keys[3]]=value});if(keys.length===5)this.each(elem=>{elem.selected[0][keys[0]][keys[1]][keys[2]][keys[3]][keys[4]]=value})}each(cb){for(const element of this.selected){cb(new QueryElement(element))}}removeClass(DOMclass){for(const element of this.selected){element.classList.remove(DOMclass)}}addClass(DOMclass){for(const element of this.selected){element.classList.add(DOMclass)}}toggleClass(DOMclass){for(const element of this.selected){element.classList.toggle(DOMclass)}}get(index){return new QueryElement(this.selected[index])}raw(){let index=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;return this.selected[index]}hasClass(DOMclass){let hasTheClass=false;for(const element of this.selected){for(const _class of element.classList){if(_class===DOMclass)hasTheClass=true}}return hasTheClass}hide(){for(const element of this.selected){element.style.visibility="hidden"}}show(){for(const element of this.selected){element.style.visibility="visible"}}toggleVisibility(){const vis=this.selected[0].style.visibility==="visible";for(const element of this.selected){if(vis){element.style.visibility="hidden"}else{element.style.visibility="visible"}}}isVisible(){return!(this.selected[0].style.visibility==="hidden")}nodisplay(){for(const element of this.selected){element.style.display="none"}}display(){let mode=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"block";for(const element of this.selected){element.style.display=mode}}toggleDisplay(){let mode=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"block";const vis=this.selected[0].style.display!=="none";for(const element of this.selected){if(vis){element.style.display="none"}else{element.style.display=mode}}}isDisplayed(){return!(this.selected[0].style.display==="none")}delete(){for(const element of this.selected){element.outerHTML=""}}blur(radius){if(typeof radius==="number"){for(const element of this.selected){element.style.filter="blur(".concat(radius,"px)")}}else{for(const element of this.selected){element.style.filter="blur(".concat(radius,")")}}}unblur(){for(const element of this.selected){element.style.filter=null}}append(something){for(const element of this.selected){element.append(something)}}}const queryTimes={milisecond:1};queryTimes.second=queryTimes.milisecond*1e3;queryTimes.minute=queryTimes.second*60;queryTimes.hour=queryTimes.minute*60;queryTimes.day=queryTimes.hour*24;queryTimes.month=queryTimes.day*31;queryTimes.year=queryTimes.day*365;queryTimes.ms=queryTimes.milisecond;var query={async createCredentials(options){let{domain,domainName,userName,displayedUserName,userId,randomString,timeout}=options;if(typeof randomString!=="string")throw new Error("randomString must be a string");if(typeof domain!=="string")throw new Error("domain must be a string");if(typeof userName!=="string")throw new Error("userName must be a string");if(typeof displayedUserName!=="string")throw new Error("displayedUserName must be a string");if(typeof userId!=="string")throw new Error("userId must be a string");if(typeof timeout!=="number")timeout=6e4;if(Number.isNaN(timeout))timeout=6e4;if(timeout<1e4)timeout=1e4;if(typeof options.crossPlatform!=="boolean")options.crossPlatform=false;if(!domainName)domainName=domain;const publicKeyCredentialCreationOptions={challenge:Uint8Array.from(randomString,c=>c.charCodeAt(0)),rp:{name:domainName,id:domain},user:{id:Uint8Array.from(userId,c=>c.charCodeAt(0)),name:userName,displayName:displayedUserName},pubKeyCredParams:[{alg:-7,type:"public-key"}],timeout:timeout,attestation:"direct",authenticatorSelection:{}};if(options.crossPlatform===true){publicKeyCredentialCreationOptions.authenticatorSelection.authenticatorAttachment="cross-platform"}const credential=await navigator.credentials.create({publicKey:publicKeyCredentialCreationOptions,userVerification:"discouraged"});return credential},trim:function(text){let maxChars=arguments.length>1&&arguments[1]!==undefined?arguments[1]:300;let suffix=arguments.length>2&&arguments[2]!==undefined?arguments[2]:" [...]";text=text.trim();if(text.length+suffix.length>=maxChars){let final="";let i=0;for(const char of text){if(i+suffix.length<maxChars){final+=char}i++}return final+suffix}return text},queryFile:document.getElementsByTagName("script")[document.getElementsByTagName("script").length-1].src,Promise:window.Promise,time:{milisecond:queryTimes.ms,second:queryTimes.second,minute:queryTimes.minute,month:queryTimes.month,hour:queryTimes.hour,day:queryTimes.day,year:queryTimes.year,s:queryTimes.second,m:queryTimes.minute,h:queryTimes.hour,d:queryTimes.day,y:queryTimes.year,ms:function(count){return query.time.milisecond*count},miliseconds:function(count){return query.time.milisecond*count},seconds:function(count){return query.time.second*count},minutes:function(count){return query.time.minutes*count},months:function(count){return query.time.month*count},hours:function(count){return query.time.hour*count},days:function(count){return query.time.day*count},years:function(count){return query.time.year*count},sleep:function(miliseconds){return new query.Promise(resolve=>setTimeout(resolve,miliseconds))},wait:function(miliseconds){return new query.Promise(resolve=>setTimeout(resolve,miliseconds))}},Sound:class Sound{constructor(audio){this.src=audio.src;this.preload=audio.preload||"auto";this.autoPlay=audio.autoPlay||false;this.volume=audio.volume||1;this.onEnd=audio.onended||function(){};this.init()}init(){this.audio=new window.Audio(this.src);this.audio.preload=this.preload;this.audio.volume=this.volume;if(this.autoPlay){this.play()}this.audio.onended=this.onEnd}time(ms){if(query.exist(ms)){this.audio.currentTime=ms}else{return this.audio.currentTime}}play(){this.audio.play();this.isPlaying=true}pause(){this.audio.pause();this.isPlaying=false}stop(){this.pause()}toggle(){if(this.audio.paused){this.audio.play()}else{this.audio.pause()}}toggleMute(){this.audio.muted=!this.audio.muted}mute(){this.audio.muted=true}unmute(){this.audio.muted=false}},isElectron:function isELectron(){try{return!!(((process||{versions:undefined}).versions||{electron:false}).electron||false)||navigator.userAgent.includes("Electron")}catch{return false}},loadStyle:function loadCSSStyles(css){document.head.innerHTML+='<style type="text/css">'+css+"</style>"},makeDraggable:function createADraggableDiv(element,dragZone){let ondrag=arguments.length>2&&arguments[2]!==undefined?arguments[2]:function(){};let ondragstart=arguments.length>3&&arguments[3]!==undefined?arguments[3]:function(){};let ondragclose=arguments.length>4&&arguments[4]!==undefined?arguments[4]:function(){};let options=arguments.length>5?arguments[5]:undefined;element=document.querySelector(element);dragZone=document.querySelector(dragZone);const opts=options||{scroll:false};element.style.position=opts.scroll||false?"fixed":"absolute";let pos1=0;let pos2=0;let pos3=0;let pos4=0;if(dragZone){dragZone.onmousedown=dragMouseDown}else{element.onmousedown=dragMouseDown}function dragMouseDown(e){if(ondragstart()!==false){pos3=e.clientX;pos4=e.clientY;document.onmouseup=closeDragElement;document.onmousemove=elementDrag}e=e||window.event;e.preventDefault()}function elementDrag(e){ondrag();e=e||window.event;e.preventDefault();pos1=pos3-e.clientX;pos2=pos4-e.clientY;pos3=e.clientX;pos4=e.clientY;element.style.top=element.offsetTop-pos2+"px";element.style.left=element.offsetLeft-pos1+"px"}function closeDragElement(){ondragclose();document.onmouseup=null;document.onmousemove=null}},cookie:{set:function setCookie(name,value,expires){if(query.exist(expires)){let date=new Date;date=new Date(date.getTime()+expires);const del="expires="+date.toGMTString();date.setTime(date.getTime()+del);document.cookie=name+"="+value+""+del}else{document.cookie=name+"="+value+""}},delete:function(name){document.cookie=name+"= expires=Thu, 01-Jan-70 00:00:01 GMT"},get:function getCookie(ckiName){const ckiVal=document.cookie.match("(^|)\\s*"+ckiName+"\\s*=\\s*([^]+)");return decodeURIComponent(ckiVal?ckiVal.pop():null)}},storage:{local:{get:function get(name,json){if(query.exist(json)){return JSON.parse(window.localStorage.getItem(name))}else{return window.localStorage.getItem(name)}},set:function set(name,value){return window.localStorage.setItem(name,value)},delete:function remove(name){window.localStorage.removeItem(name)},clear:function clear(){window.localStorage.clear()}},session:{get:function get(name,json){if(query.exist(json)){return JSON.parse(window.localStorage.getItem(name))}else{return window.localStorage.getItem(name)}},set:function set(name,value){return window.localStorage.setItem(name,value)},delete:function remove(name){window.sessionStorage.removeItem(name)},clear:function clear(){window.sessionStorage.clear()}}},locator:{getPos:function(thenDo){if(navigator.geolocation){return navigator.geolocation.getCurrentPosition(thenDo)}else{console.error("["+query.queryFile+"] Geolocation is not supported!");return{type:"error",err:"Geolocation is not supported"}}}},goTo:function(page){window.location.href=page},page:{navigate:function(page){window.location.href=page},darkMode:function(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches},close:function(){return window.close()},reload:function(){window.location=window.location.href},history:{back:function(count){if(query.exist(count)){window.history.back(count)}else{window.history.back()}},forward:function(count){if(query.exist(count)){window.history.forward(count)}else{window.history.forward()}}}},Math:{add:function(addend,summand){if(!query.exist(summand)){return addend+1}else{return addend+summand}},subtract:function(one,two){if(!query.exist(two)){return one-1}else{return one-two}},multiplicate:function(one,two){return one*two},modulo:function(one,two){return one%two},divide:function(one,two){return one/two},diff:function(one,two){if(one>two){return one-two}else{return two-one}},PI:3.141592653589793},clearDOM:function(){document.querySelector("html").innerHTML=""},exist:function(what){if(what===null||what===undefined){return false}else{return true}},conncetion:function(){return navigator.onLine},connceted:function(){return navigator.onLine},lang:navigator.language,browsers:{},sel:function selectDOMElement(selector){return new QueryElement(selector)}};query.browsers.chromium=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor);query.browsers.edge=/Edg/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor);query.browsers.opera=!!window.opr&&!!window.opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0;query.browsers.firefox=typeof InstallTrigger!=="undefined";query.browsers.blink=(query.browsers.chromium||query.browsers.opera)&&!!window.CSS;query.browsers.brave=query.exist(navigator.brave);query.browsers.electron=query.isElectron();query.browsers.ieLower=navigator.appName==="Microsoft Internet Explorer";if(navigator.appName==="Microsoft Internet Explorer"){query.browsers.ie=true}else{query.browsers.ie=false}if(/rv:11.0/i.test(navigator.userAgent)){query.browsers.ie=true;query.browsers.ie11=true;query.browsers.ieLower=false}query.browsers.safari=/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor);if(!query.browsers.edge&&!query.browsers.brave&&!query.browsers.opera){query.browsers.chrome=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}else{query.browsers.chrome=false}if(query.browsers.edge||query.browsers.ie){query.browsers.ms=true}else{query.browsers.ms=false}if(!query.browsers.ie){query.browsers.ie11=false;query.browsers.ieLower=false}if(query.browsers.safari||query.browsers.chrome||query.browsers.chromium){query.browsers.webkit=true}else{query.browsers.webkit=false}if(query.browsers.electron){query.browser="electron"}else if(query.browsers.safari){query.browser="safari"}else if(query.browsers.opera){query.browser="opera"}else if(query.browsers.brave){query.browser="brave"}else if(query.browsers.edge){query.browser="edge"}else if(query.browsers.firefox){query.browser="firefox"}else if(query.browsers.ie){query.browser="internet-explorer"}else if(query.browsers.chrome){query.browser="chrome"}else{query.browser="unknown"}if(navigator.platform.toLocaleLowerCase().indexOf("win")===0)query.system="Windows";if(navigator.platform.toLocaleLowerCase().indexOf("mac")===0)query.system="MacOS";query.cki=query.cookie;query.loadFont=function loadCustomFontFromSpecificURL(name,url){query.loadStyle("@font-face{font-family:'"+name+"'font-display:swapsrc:local("+name+"),url("+url+")}")};query.loadScript=function loadScript(js){document.head.innerHTML+='<script type="text/javascript">'.concat(js,"<\/script>")};query.loadExternalScript=function loadExternalScript(src){document.head.innerHTML+='<script type="text/javascript" src="'.concat(src,'"><\/script>')};query.page.refresh=query.page.reload;setInterval(function(){query.page.focus=document.hasFocus()},200);const $=query;const $$=query.sel;if(query.browsers.ie){console.warn("["+query.queryFile+"] query doesn't completly support Internet Explorer!")}if(!window.$){window.$=$;window.$$=$$}const execute=function(){let obj=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{in:0,repeat:1,conditions:[true]};let func=arguments.length>1?arguments[1]:undefined;setTimeout(()=>{for(let i=0;i<(obj.repeat||1);i++){let isTrue=true;(obj.conditions||[true]).forEach(condition=>{if(!condition)isTrue=false});if(isTrue){(func||(()=>{console.log("Test passed")}))()}}},obj.in||0)};const catchlib=func=>{try{func()}catch{return false}return true};window.query=query;window.queryjs=query;window.execute=execute;window.catchlib=catchlib;